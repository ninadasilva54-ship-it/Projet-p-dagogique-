<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Commande de kits de survie</title>
<link rel="stylesheet" href="style.css">
<style>
Â  Â  /* --- AJOUTS CSS --- */
Â  Â Â 
Â  Â  /* Styles des cartes de cours */
Â  Â  .course-card h3 {
Â  Â  Â  Â  white-space: normal;
Â  Â  Â  Â  overflow: visible;
Â  Â  Â  Â  word-wrap: break-word;
Â  Â  Â  Â  min-height: 60px;
Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  line-height: 1.4;
Â  Â  }

Â  Â  /* Organisation des boutons de prix */
Â  Â  .price-section {
Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  padding-top: 10px;
Â  Â  Â  Â  border-top: 1px solid #eee;
Â  Â  }
Â  Â  .price-label {
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  display: block;
Â  Â  Â  Â  color: #333;
Â  Â  }
Â  Â Â 
Â  Â  /* Couleurs spÃ©cifiques des boutons */
Â  Â  .btn-bw { background-color: #555 !important; color: white; } /* Gris pour N&B */
Â  Â  .btn-col { background-color: #FF0000 !important; color: white; } /* ROUGE VIF pour Couleur */

Â  Â  /* Styles Dashboard Admin */
Â  Â  #dashboard table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.9em; }
Â  Â  #dashboard th, #dashboard td { border: 1px solid #ddd; padding: 8px; text-align: left; }
Â  Â  #dashboard th { background-color: #f2f2f2; }
Â  Â Â 
Â  Â  /* Boutons de filtres du dashboard (Mise Ã  jour police/style) */
Â  Â  .filter-btn {Â 
Â  Â  Â  Â  margin: 5px;Â 
Â  Â  Â  Â  cursor: pointer;Â 
Â  Â  Â  Â  padding: 8px 15px;Â 
Â  Â  Â  Â  border-radius: 4px;Â 
Â  Â  Â  Â  border: 1px solid #ccc;Â 
Â  Â  Â  Â  background: #eee;
Â  Â  Â  Â  font-family: inherit; /* Utilise la police principale du corps */
Â  Â  Â  Â  font-weight: bold; /* Pour imiter le style des boutons de commande */
Â  Â  Â  Â  text-transform: uppercase;
Â  Â  }
Â  Â  .active-filter { background-color: #0099ff; color: white; border-color: #007acc; }
Â  Â  .btn-archive { background-color: #666; color: white; }

Â  Â  /* ROUGE VIF pour les boutons de connexion Admin */
Â  Â  #show-login-btn, #admin-login-btn {
Â  Â  Â  Â  background-color: #FF0000 !important;Â 
Â  Â  Â  Â  color: white !important;
Â  Â  }

Â  Â  /* --- Styles de la Modale (FenÃªtre de formulaire) --- */
Â  Â  .modal-overlay {
Â  Â  Â  Â  display: none; /* CachÃ© par dÃ©faut */
Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  top: 0; left: 0;
Â  Â  Â  Â  width: 100%; height: 100%;
Â  Â  Â  Â  background-color: rgba(0,0,0,0.7);
Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  align-items: center;
Â  Â  }
Â  Â  .modal-content {
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  max-width: 400px;
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
Â  Â  }
Â  Â  .modal-content input {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  margin: 10px 0;
Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  border-radius: 4px;
Â  Â  }
Â  Â  .btn-confirm { background-color: #0099ff; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 4px; width: 100%; font-size: 16px; margin-top: 10px;}
Â  Â  .btn-cancel { background-color: #aaa; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 4px; margin-top: 10px; width: 100%; }
</style>
</head>
<body>

<div class="background-logo"></div>

<h1 class="title">Commande de kits de survie</h1>

<div id="admin-tab" style="text-align:center; margin-bottom:10px;">
Â  <button id="show-login-btn" class="button-lydia">Espace Admin</button>
</div>

<div id="admin-login-form" style="display:none; margin-top:20px; text-align:center;">
Â  <input type="email" id="admin-email" placeholder="Email admin"><br><br>
Â  <input type="password" id="admin-password" placeholder="Mot de passe"><br><br>
Â  <button type="button" id="admin-login-btn" class="button-lydia">Se connecter</button>
Â  <p id="admin-login-error" style="color:red;"></p>
</div>

<div class="courses-container" id="courses"></div>

<div id="order-modal" class="modal-overlay">
Â  Â  <div class="modal-content">
Â  Â  Â  Â  <h2 id="modal-title">Vos informations</h2>
Â  Â  Â  Â  <p id="modal-desc" style="font-size:0.9em; color:#666; margin-bottom:15px;"></p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <input type="text" id="input-nom" placeholder="Votre Nom (ex: Dupont)">
Â  Â  Â  Â  <input type="text" id="input-prenom" placeholder="Votre PrÃ©nom (ex: Marie)">
Â  Â  Â  Â  <input type="email" id="input-email" placeholder="Votre Email (pour confirmation)">
Â  Â  Â  Â Â 
Â  Â  Â  Â  <button id="confirm-order-btn" class="btn-confirm">Valider et Payer via Lydia</button>
Â  Â  Â  Â  <button onclick="closeModal()" class="btn-cancel">Annuler</button>
Â  Â  </div>
</div>

<div id="dashboard" style="display:none; margin-top:20px; padding: 20px; background: #fff;">
Â  <h2>Gestion des commandes (Du plus rÃ©cent au plus ancien)</h2>
Â Â 
Â  <div style="margin-bottom: 15px; border-bottom: 2px solid #eee; padding-bottom: 10px;">
Â  Â  <button onclick="loadOrders('pending')" class="filter-btn active-filter" id="btn-pending">ğŸ“‹ Ã€ TRAITER (En attente)</button>
Â  Â  <button onclick="loadOrders('archive')" class="filter-btn btn-archive" id="btn-archive">ğŸ—„ï¸ ARCHIVES (PayÃ©es)</button>
Â  Â  <button onclick="loadOrders('all')" class="filter-btn" id="btn-all">Voir Tout</button>
Â  Â Â 
Â  Â  <button onclick="auth.signOut()" class="filter-btn" style="float:right; background:red; color:white; border:none;">DÃ©connexion</button>
Â  </div>

Â  <div style="overflow-x:auto;">
Â  Â  Â  <table>
Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  <th>Date</th>
Â  Â  Â  Â  Â  Â  <th>Nom</th>
Â  Â  Â  Â  Â  Â  <th>PrÃ©nom</th>
Â  Â  Â  Â  Â  Â  <th>Email</th>
Â  Â  Â  Â  Â  Â  <th>Kit / Cours</th>
Â  Â  Â  Â  Â  Â  <th>DÃ©tail du Prix</th> <th>Statut</th>
Â  Â  Â  Â  Â  Â  <th>Action</th>
Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  </thead>
Â  Â  Â  Â  <tbody id="orders-table"></tbody>
Â  Â  Â  </table>
Â  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
Â  // ğŸ”¹ Config Firebase (VÃ©rifiez que ces clÃ©s sont les vÃ´tres)
Â  const firebaseConfig = {
Â  Â  apiKey: "AIzaSyD6G1fbaPTLr7t2gABLA5MoeG1HP3QCuKg",
Â  Â  authDomain: "projet-pedago-adcn.firebaseapp.com",
Â  Â  projectId: "projet-pedago-adcn",
Â  Â  storageBucket: "projet-pedago-adcn.appspot.com",
Â  Â  messagingSenderId: "124299875258",
Â  Â  appId: "1:124299875258:web:981376bd8c6cf4ce4c4383"
Â  };

Â  firebase.initializeApp(firebaseConfig);
Â  const auth = firebase.auth();
Â  const db = firebase.firestore();

Â  // ğŸ”¹ Lien Lydia
Â  const LYDIA_LINK = "https://pots.lydia.me/collect/commandes-tableaux-recap-9985755/fr";

Â  // ğŸ”¹ Liste des cours
Â  const courses = [
Â  Â  {
Â  Â  Â  name: "UE1 Biopathologies tissulaires, illustrations et moyens dâ€™exploration",Â 
Â  Â  Â  description: "Kit de Survie",Â 
Â  Â  Â  priceBW: "4,45â‚¬", Â  Â  Â Â 
Â  Â  Â  priceBWR: "5â‚¬", Â  Â  Â  Â Â 
Â  Â  Â  priceCol: "9,90â‚¬", Â  Â Â 
Â  Â  Â  priceColR: "10â‚¬" Â  Â  Â Â 
Â  Â  },
Â  Â  {
Â  Â  Â  name: "UE2 Bases molÃ©culaires, cellulaires et tissulaires des traitements mÃ©dicamenteux",Â 
Â  Â  Â  description: "Kit de Survie",Â 
Â  Â  Â  priceBW: "3,75â‚¬",
Â  Â  Â  priceBWR: "4â‚¬",
Â  Â  Â  priceCol: "7,80â‚¬",
Â  Â  Â  priceColR: "8â‚¬"
Â  Â  },
Â  Â  {
Â  Â  Â  name: "UE3 Tissus sanguins et systÃ¨me immunitaire",Â 
Â  Â  Â  description: "Kit de Survie",Â 
Â  Â  Â  priceBW: "3,05â‚¬",
Â  Â  Â  priceBWR: "3,50â‚¬",
Â  Â  Â  priceCol: "5,70â‚¬",
Â  Â  Â  priceColR: "6â‚¬"
Â  Â  }
Â  ];

Â  // Variables temporaires
Â  let currentSelectedCourse = null;
Â  let currentSelectedType = null;
Â  let currentSelectedPrice = null;

Â  // Fonction de traduction pour le Dashboard
Â  function formatTypeForDashboard(type) {
Â  Â  Â  if (type === "Noir & Blanc (Exact)") return "Normal Noir & Blanc";
Â  Â  Â  if (type === "Noir & Blanc (Arrondi)") return "Arrondi Noir & Blanc";
Â  Â  Â  if (type === "Couleur (Exact)") return "Normal Couleurs";
Â  Â  Â  if (type === "Couleur (Arrondi)") return "Arrondi Couleurs";
Â  Â  Â  return type;
Â  }

Â  // ğŸ”¹ Charger les cours (Vue Client)
Â  function loadCourses() {
Â  Â  const container = document.getElementById("courses");
Â  Â  container.innerHTML = "";
Â  Â  courses.forEach(c => {Â 
Â  Â  Â  const div = document.createElement("div");
Â  Â  Â  div.classList.add("course-card");
Â  Â  Â Â 
Â  Â  Â  div.innerHTML = `
Â  Â  Â  Â  <h3>${c.name}</h3>
Â  Â  Â  Â  <p>${c.description}</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="price-section">
Â  Â  Â  Â  Â  Â  <span class="price-label">ğŸ–¨ï¸ Noir & Blanc</span>
Â  Â  Â  Â  Â  Â  <button class="button-lydia btn-bw" onclick="initModal('${c.name}', 'nb_exact', '${c.priceBW}')">
Â  Â  Â  Â  Â  Â  Â  Â  Exact (${c.priceBW})
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  <button class="button-lydia btn-bw" onclick="initModal('${c.name}', 'nb_arrondi', '${c.priceBWR}')">
Â  Â  Â  Â  Â  Â  Â  Â  Arrondi (${c.priceBWR})
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="price-section">
Â  Â  Â  Â  Â  Â  <span class="price-label">ğŸŒˆ Couleur</span>
Â  Â  Â  Â  Â  Â  <button class="button-lydia btn-col" onclick="initModal('${c.name}', 'col_exact', '${c.priceCol}')">
Â  Â  Â  Â  Â  Â  Â  Â  Exact (${c.priceCol})
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  <button class="button-lydia btn-col" onclick="initModal('${c.name}', 'col_arrondi', '${c.priceColR}')">
Â  Â  Â  Â  Â  Â  Â  Â  Arrondi (${c.priceColR})
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  Â  `;
Â  Â  Â  container.appendChild(div);
Â  Â  });
Â  }

Â  // ğŸ”¹ Gestion de la Modale
Â  const modal = document.getElementById("order-modal");
Â  const inputNom = document.getElementById("input-nom");
Â  const inputPrenom = document.getElementById("input-prenom");
Â  const inputEmail = document.getElementById("input-email");

Â  function initModal(courseName, typeKey, priceValue) {
Â  Â  Â  currentSelectedCourse = courses.find(c => c.name === courseName);
Â  Â  Â  let typeLabel = "";
Â  Â  Â  // Les labels stockÃ©s dans Firebase
Â  Â  Â  if(typeKey === 'nb_exact') typeLabel = "Noir & Blanc (Exact)";
Â  Â  Â  if(typeKey === 'nb_arrondi') typeLabel = "Noir & Blanc (Arrondi)";
Â  Â  Â  if(typeKey === 'col_exact') typeLabel = "Couleur (Exact)";
Â  Â  Â  if(typeKey === 'col_arrondi') typeLabel = "Couleur (Arrondi)";

Â  Â  Â  currentSelectedType = typeLabel;
Â  Â  Â  currentSelectedPrice = priceValue;
Â  Â  Â Â 
Â  Â  Â  document.getElementById("modal-title").innerText = "Finaliser la commande";
Â  Â  Â  document.getElementById("modal-desc").innerText = `Choix : ${courseName}\nType : ${typeLabel}\nPrix : ${priceValue}`;
Â  Â  Â  modal.style.display = "flex";
Â  }

Â  function closeModal() {
Â  Â  Â  modal.style.display = "none";
Â  Â  Â  inputNom.value = ""; inputPrenom.value = ""; inputEmail.value = "";
Â  }

Â  // ğŸ”¹ Validation Commande
Â  document.getElementById("confirm-order-btn").addEventListener("click", async () => {
Â  Â  Â  const nom = inputNom.value.trim();
Â  Â  Â  const prenom = inputPrenom.value.trim();
Â  Â  Â  const email = inputEmail.value.trim();

Â  Â  Â  if(!nom || !prenom || !email) {
Â  Â  Â  Â  Â  alert("Merci de remplir tous les champs.");
Â  Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  const btn = document.getElementById("confirm-order-btn");
Â  Â  Â  btn.innerText = "Enregistrement...";
Â  Â  Â  btn.disabled = true;

Â  Â  Â  try {
Â  Â  Â  Â  await db.collection("orders").add({
Â  Â  Â  Â  Â  cours: currentSelectedCourse.name,
Â  Â  Â  Â  Â  type: currentSelectedType,
Â  Â  Â  Â  Â  prix: currentSelectedPrice,
Â  Â  Â  Â  Â  nom: nom,
Â  Â  Â  Â  Â  prenom: prenom,
Â  Â  Â  Â  Â  email: email,
Â  Â  Â  Â  Â  statut: "en attente",Â 
Â  Â  Â  Â  Â  date: new Date().toISOString()
Â  Â  Â  Â  });
Â  Â  Â  Â  alert("Commande enregistrÃ©e ! Vous allez Ãªtre redirigÃ© vers Lydia.");
Â  Â  Â  Â  window.location.href = LYDIA_LINK;Â 
Â  Â  Â  } catch(e) {
Â  Â  Â  Â  console.error(e);
Â  Â  Â  Â  alert("Erreur : " + e.message);
Â  Â  Â  Â  btn.innerText = "Valider et Payer via Lydia";
Â  Â  Â  Â  btn.disabled = false;
Â  Â  Â  }
Â  });

Â  loadCourses();

Â  // ==============================================
Â  // ğŸ”¹ GESTION INTERFACE ADMIN
Â  // ==============================================
Â Â 
Â  const loginForm = document.getElementById("admin-login-form");
Â  const dashboard = document.getElementById("dashboard");

Â  document.getElementById("show-login-btn").addEventListener("click", () => {
Â  Â  if(dashboard.style.display === "block") return;Â 
Â  Â  loginForm.style.display = (loginForm.style.display === "none") ? "block" : "none";
Â  });

Â  document.getElementById("admin-login-btn").addEventListener("click", (e) => {
Â  Â  e.preventDefault();
Â  Â  const email = document.getElementById("admin-email").value.trim();
Â  Â  const password = document.getElementById("admin-password").value;
Â  Â  auth.signInWithEmailAndPassword(email, password).catch(err => {
Â  Â  Â  Â  document.getElementById("admin-login-error").innerText = "Erreur de connexion.";
Â  Â  });
Â  });

Â  auth.onAuthStateChanged(user => {
Â  Â  if(user){
Â  Â  Â  loginForm.style.display = "none";
Â  Â  Â  document.getElementById("courses").style.display = "none";Â 
Â  Â  Â  dashboard.style.display = "block";
Â  Â  Â  document.getElementById("show-login-btn").innerText = "Admin : " + user.email;
Â  Â  Â  loadOrders('pending'); // CHARGEMENT PAR DÃ‰FAUT : Commandes Ã  traiter
Â  Â  } else {
Â  Â  Â  dashboard.style.display = "none";
Â  Â  Â  document.getElementById("courses").style.display = "block";Â 
Â  Â  Â  document.getElementById("show-login-btn").innerText = "Connexion Admin";
Â  Â  }
Â  });

Â  // ğŸ”¹ Charger les commandes (Logique "Archives" vs "Ã€ traiter")
Â  async function loadOrders(filterMode = 'pending') {
Â  Â  const table = document.getElementById("orders-table");
Â  Â  table.innerHTML = "<tr><td colspan='8' style='text-align:center;'>Chargement...</td></tr>";
Â  Â Â 
Â  Â  // Gestion des classes des boutons (visuel)
Â  Â  document.getElementById('btn-pending').className = 'filter-btn' + (filterMode === 'pending' ? ' active-filter' : '');
Â  Â  document.getElementById('btn-archive').className = 'filter-btn btn-archive' + (filterMode === 'archive' ? ' active-filter' : '');
Â  Â  document.getElementById('btn-all').className = 'filter-btn' + (filterMode === 'all' ? ' active-filter' : '');

Â  Â  try {
Â  Â  Â  let query = db.collection("orders");

Â  Â  Â  // Tri des plus RÃ‰CENTES aux plus ANCIENNES pour tous les modes
Â  Â  Â  if (filterMode === 'pending') {
Â  Â  Â  Â  query = query.where("statut", "==", "en attente").orderBy("date", "desc");Â 
Â  Â  Â  } else if (filterMode === 'archive') {
Â  Â  Â  Â  query = query.where("statut", "==", "payÃ©").orderBy("date", "desc");Â 
Â  Â  Â  } else {
Â  Â  Â  Â  query = query.orderBy("date", "desc");
Â  Â  Â  }Â 

Â  Â  Â  const snapshot = await query.get();
Â  Â  Â Â 
Â  Â  Â  table.innerHTML = "";Â 
Â  Â  Â  if (snapshot.empty) {
Â  Â  Â  Â  table.innerHTML = "<tr><td colspan='8' style='text-align:center; padding:20px;'>Aucune commande dans cette section.</td></tr>";
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  snapshot.forEach(doc => {
Â  Â  Â  Â  const o = doc.data();
Â  Â  Â  Â  const tr = document.createElement("tr");
Â  Â  Â  Â Â 
Â  Â  Â  Â  const color = o.statut === "payÃ©" ? "green" : "#e60000";
Â  Â  Â  Â  const nomAffichage = o.nom ? o.nom.toUpperCase() : "-";
Â  Â  Â  Â  const prenomAffichage = o.prenom ? o.prenom : "-";
Â  Â  Â  Â  const prixAffichage = o.prix ? ` (${o.prix})` : "";Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  const formattedType = formatTypeForDashboard(o.type);

Â  Â  Â  Â  // Si la commande est archivÃ©e (payÃ©e), on n'affiche plus le bouton de validation
Â  Â  Â  Â  let actionButton = '';
Â  Â  Â  Â  if(o.statut === "payÃ©") {
Â  Â  Â  Â  Â  Â  actionButton = 'âœ… ArchivÃ©';
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  actionButton = `<button onclick="validatePayment('${doc.id}')" style="cursor:pointer; background:#4CAF50; color:white; border:none; padding:5px 10px; border-radius:4px;">Valider Paiement</button>`;
Â  Â  Â  Â  }

Â  Â  Â  Â  tr.innerHTML = `
Â  Â  Â  Â  Â  <td>${new Date(o.date).toLocaleDateString()} <small>${new Date(o.date).toLocaleTimeString()}</small></td>
Â  Â  Â  Â  Â  <td><strong>${nomAffichage}</strong></td>
Â  Â  Â  Â  Â  <td>${prenomAffichage}</td>
Â  Â  Â  Â  Â  <td>${o.email}</td>
Â  Â  Â  Â  Â  <td>${o.cours}</td>
Â  Â  Â  Â  Â  <td>${formattedType}${prixAffichage}</td> <td style="color:${color}; font-weight:bold;">${o.statut.toUpperCase()}</td>
Â  Â  Â  Â  Â  <td style="text-align:center;">${actionButton}</td>
Â  Â  Â  Â  `;
Â  Â  Â  Â  table.appendChild(tr);
Â  Â  Â  });

Â  Â  } catch(e) {
Â  Â  Â  console.error("Erreur : ", e);
Â  Â  Â  if(e.message.includes("index")) {
Â  Â  Â  Â  alert("ATTENTION ADMIN : Un index Firestore est manquant pour trier les commandes (vÃ©rifiez la console du navigateur et crÃ©ez l'index si l'alerte apparaÃ®t).");
Â  Â  Â  } else {
Â  Â  Â  Â  alert("Erreur chargement : " + e.message);
Â  Â  Â  }
Â  Â  }
Â  }

Â  // Valider une commande (la fait passer dans les archives)
Â  window.validatePayment = async function(docId) {
Â  Â  if(confirm("Avez-vous reÃ§u l'argent ? Cette action dÃ©placera la commande dans les Archives.")) {
Â  Â  Â  try {
Â  Â  Â  Â  await db.collection("orders").doc(docId).update({ statut: "payÃ©" });
Â  Â  Â  Â  // Recharge la vue actuelle (donc la commande va disparaÃ®tre de "Ã€ traiter")
Â  Â  Â  Â  loadOrders('pending');Â 
Â  Â  Â  } catch(e) {
Â  Â  Â  Â  alert("Erreur : " + e.message);
Â  Â  Â  }
Â  Â  }
Â  }
</script>

</body>
</html>
